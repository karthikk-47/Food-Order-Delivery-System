<div class="dashboard-container">
  <div class="header">
    <h1>Homemaker Dashboard</h1>
    <p>Manage your orders and menu</p>
  </div>

  <div class="stats-grid">
    <div class="stat-card revenue">
      <div class="stat-icon">ğŸ’°</div>
      <div class="stat-info">
        <h3>â‚¹{{ stats.totalRevenue }}</h3>
        <p>Total Revenue</p>
      </div>
    </div>
    <div class="stat-card orders">
      <div class="stat-icon">ğŸ“¦</div>
      <div class="stat-info">
        <h3>{{ stats.totalOrders }}</h3>
        <p>Total Orders</p>
      </div>
    </div>
    <div class="stat-card active">
      <div class="stat-icon">ğŸš€</div>
      <div class="stat-info">
        <h3>{{ stats.activeOrders }}</h3>
        <p>Active Orders</p>
      </div>
    </div>
    <div class="stat-card rating">
      <div class="stat-icon">â­</div>
      <div class="stat-info">
        <h3>{{ stats.averageRating }}</h3>
        <p>Average Rating</p>
      </div>
    </div>
  </div>

  <div class="content-grid">
    <div class="section orders-section">
      <div class="section-header">
        <h2>Recent Orders</h2>
        <a routerLink="/homemaker/orders" class="view-all">View All</a>
      </div>
      <div class="orders-list" *ngIf="recentOrders.length > 0; else noOrders">
        <div class="order-card" *ngFor="let order of recentOrders">
          <div class="order-header">
            <span class="order-id">#{{ order.id }}</span>
            <span class="order-status" [class]="order.orderStatus.toLowerCase()">
              {{ order.orderStatus }}
            </span>
          </div>
          <div class="order-details">
            <p><strong>Customer:</strong> {{ order.user?.name }}</p>
            <p><strong>Amount:</strong> â‚¹{{ order.amount }}</p>
            <p><strong>Items:</strong> {{ order.itemCount || 'N/A' }}</p>
            <p><strong>Time:</strong> {{ order.createdAt | date:'short' }}</p>
          </div>
          <div class="order-actions">
            <button 
              *ngIf="order.orderStatus === 'PENDING'" 
              class="btn-accept" 
              (click)="acceptOrder(order.id)">
              Accept
            </button>
            <button 
              *ngIf="order.orderStatus === 'PREPARING'" 
              class="btn-ready" 
              (click)="markAsReady(order.id)">
              Mark Ready
            </button>
          </div>
        </div>
      </div>
      <ng-template #noOrders>
        <div class="empty-state">
          <p>No recent orders</p>
        </div>
      </ng-template>
    </div>

    <div class="section menu-section">
      <div class="section-header">
        <h2>Top Menu Items</h2>
        <a routerLink="/homemaker/menu" class="view-all">Manage Menu</a>
      </div>
      <div class="menu-list" *ngIf="topMenuItems.length > 0; else noMenu">
        <div class="menu-item" *ngFor="let item of topMenuItems">
          <div class="item-image">
            <img [src]="item.image || 'assets/default-food.png'" [alt]="item.name">
          </div>
          <div class="item-info">
            <h4>{{ item.name }}</h4>
            <p class="price">â‚¹{{ item.price }}</p>
            <p class="orders">{{ item.orderCount || 0 }} orders</p>
          </div>
        </div>
      </div>
      <ng-template #noMenu>
        <div class="empty-state">
          <p>No menu items yet</p>
          <a routerLink="/homemaker/menu/add" class="btn-primary">Add Menu Item</a>
        </div>
      </ng-template>
    </div>
  </div>

  <div class="quick-actions">
    <a routerLink="/homemaker/menu" class="action-btn">
      <span class="icon">ğŸ½ï¸</span>
      <span>Manage Menu</span>
    </a>
    <a routerLink="/homemaker/orders" class="action-btn">
      <span class="icon">ğŸ“‹</span>
      <span>View Orders</span>
    </a>
    <a routerLink="/homemaker/analytics" class="action-btn">
      <span class="icon">ğŸ“Š</span>
      <span>Analytics</span>
    </a>
    <a routerLink="/homemaker/profile" class="action-btn">
      <span class="icon">ğŸ‘¤</span>
      <span>Profile</span>
    </a>
  </div>
</div>
