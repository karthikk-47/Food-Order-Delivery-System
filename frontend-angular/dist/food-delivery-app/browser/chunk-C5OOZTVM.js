import{a as w}from"./chunk-VKWABXI3.js";import{a as A}from"./chunk-OU4M4I6I.js";import"./chunk-VW6JM3DE.js";import"./chunk-CFT3KPZ3.js";import{A as _,B as v,Ba as E,Ca as D,Fa as k,J as c,K as M,R as g,Ra as S,T as u,Ua as y,X as n,Y as t,Z as P,aa as x,ba as f,ca as p,ea as C,fa as i,ga as m,ha as l,pa as h,ua as b,v as O}from"./chunk-DQHUU6N5.js";function H(r,s){if(r&1){let e=x();n(0,"div",30)(1,"div",31)(2,"h4"),i(3),t(),n(4,"p"),i(5),t(),n(6,"p"),i(7),t()(),n(8,"div",32)(9,"button",33),f("click",function(){let a=_(e).$implicit,d=p(2);return v(d.approveHomemaker(a.id))}),i(10,"\u2713 Approve"),t(),n(11,"button",34),f("click",function(){let a=_(e).$implicit,d=p(2);return v(d.rejectHomemaker(a.id,""))}),i(12,"\u2717 Reject"),t()()()}if(r&2){let e=s.$implicit;c(3),m(e.name),c(2),l("\u{1F4F1} ",e.mobile,""),c(2),l("\u{1F4CD} ",e.address,"")}}function F(r,s){if(r&1&&(n(0,"div",28),g(1,H,13,3,"div",29),t()),r&2){let e=p();c(),u("ngForOf",e.pendingHomemakers)}}function T(r,s){r&1&&(n(0,"p",35),i(1,"No pending home chef approvals"),t())}function V(r,s){if(r&1){let e=x();n(0,"div",30)(1,"div",31)(2,"h4"),i(3),t(),n(4,"p"),i(5),t(),n(6,"p"),i(7),t(),n(8,"p"),i(9),t()(),n(10,"div",32)(11,"button",33),f("click",function(){let a=_(e).$implicit,d=p(2);return v(d.approveExecutive(a.id))}),i(12,"\u2713 Approve"),t(),n(13,"button",34),f("click",function(){let a=_(e).$implicit,d=p(2);return v(d.rejectExecutive(a.id,""))}),i(14,"\u2717 Reject"),t()()()}if(r&2){let e=s.$implicit;c(3),m(e.name),c(2),l("\u{1F4F1} ",e.mobile,""),c(2),l("\u{1FAAA} Aadhar: ",e.aadharNo,""),c(2),l("\u{1F697} License: ",e.licenseNo,"")}}function R(r,s){if(r&1&&(n(0,"div",28),g(1,V,15,4,"div",29),t()),r&2){let e=p();c(),u("ngForOf",e.pendingExecutives)}}function q(r,s){r&1&&(n(0,"p",35),i(1,"No pending delivery partner approvals"),t())}function z(r,s){if(r&1){let e=x();n(0,"div",38)(1,"div",39)(2,"h4"),i(3),t(),n(4,"p"),i(5),t(),n(6,"span",40),i(7),t()(),n(8,"button",41),f("click",function(){let a=_(e).$implicit,d=p(2);return v(d.resolveDispute(a))}),i(9,"Resolve"),t()()}if(r&2){let e=s.$implicit;c(3),l("Order #",e.orderId,""),c(2),m(e.reason),c(2),m(e.status)}}function L(r,s){if(r&1&&(n(0,"div",36),g(1,z,10,3,"div",37),t()),r&2){let e=p();c(),u("ngForOf",e.recentDisputes)}}function N(r,s){r&1&&(n(0,"p",35),i(1,"No open disputes"),t())}var Q=(()=>{class r{constructor(e){this.adminService=e,this.stats={totalUsers:0,totalHomemakers:0,totalExecutives:0,totalOrders:0,totalRevenue:0,activeOrders:0,pendingVerifications:0,pendingHomemakers:0,pendingExecutives:0,openDisputes:0},this.recentUsers=[],this.pendingHomemakers=[],this.pendingExecutives=[],this.recentDisputes=[],this.loading=!1,this.rejectionReason=""}ngOnInit(){this.loadDashboard()}loadDashboard(){this.loading=!0,this.adminService.getDashboardStats().subscribe({next:e=>{this.stats=e,this.loading=!1},error:e=>{console.error("Error loading stats:",e),this.loading=!1}}),this.adminService.getAllUsers().subscribe({next:e=>{this.recentUsers=e.slice(0,5)},error:e=>console.error("Error loading users:",e)}),this.adminService.getAllDisputes().subscribe({next:e=>{this.recentDisputes=e.filter(o=>o.status==="OPEN").slice(0,5)},error:e=>console.error("Error loading disputes:",e)}),this.adminService.getPendingHomemakerApprovals().subscribe({next:e=>{this.pendingHomemakers=e},error:e=>console.error("Error loading pending homemakers:",e)}),this.adminService.getPendingExecutiveApprovals().subscribe({next:e=>{this.pendingExecutives=e},error:e=>console.error("Error loading pending executives:",e)})}verifyUser(e){this.adminService.verifyUser(e).subscribe({next:()=>{this.loadDashboard()},error:o=>console.error("Error verifying user:",o)})}approveHomemaker(e){this.adminService.approveHomemaker(e).subscribe({next:()=>{this.loadDashboard()},error:o=>console.error("Error approving homemaker:",o)})}rejectHomemaker(e,o){o||(o="Application rejected by admin"),this.adminService.rejectHomemaker(e,o).subscribe({next:()=>{this.loadDashboard()},error:a=>console.error("Error rejecting homemaker:",a)})}approveExecutive(e){this.adminService.approveExecutive(e).subscribe({next:()=>{this.loadDashboard()},error:o=>console.error("Error approving executive:",o)})}rejectExecutive(e,o){o||(o="Application rejected by admin"),this.adminService.rejectExecutive(e,o).subscribe({next:()=>{this.loadDashboard()},error:a=>console.error("Error rejecting executive:",a)})}resolveDispute(e){}static{this.\u0275fac=function(o){return new(o||r)(M(w))}}static{this.\u0275cmp=O({type:r,selectors:[["app-admin-dashboard"]],standalone:!0,features:[h],decls:106,vars:14,consts:[["noHomemakers",""],["noExecutives",""],["noDisputes",""],[1,"admin-container"],[1,"header"],[1,"quick-actions"],["routerLink","/admin/manage/users",1,"action-btn","users-btn"],[1,"icon"],[1,"label"],["routerLink","/admin/manage/homemakers",1,"action-btn","homemakers-btn"],["routerLink","/admin/manage/executives",1,"action-btn","executives-btn"],["routerLink","/admin/analytics",1,"action-btn","analytics-btn"],["routerLink","/admin/logs",1,"action-btn","logs-btn"],[1,"stats-grid"],[1,"stat-card","users"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-card","homemakers"],[1,"stat-card","executives"],[1,"stat-card","orders"],[1,"stat-card","revenue"],[1,"stat-card","active"],[1,"content-grid"],[1,"section"],[1,"section-header"],["class","approval-list",4,"ngIf","ngIfElse"],["routerLink","/admin/disputes",1,"view-all"],["class","dispute-list",4,"ngIf","ngIfElse"],[1,"approval-list"],["class","approval-item",4,"ngFor","ngForOf"],[1,"approval-item"],[1,"item-info"],[1,"item-actions"],[1,"btn-approve",3,"click"],[1,"btn-reject",3,"click"],[1,"no-items"],[1,"dispute-list"],["class","dispute-item",4,"ngFor","ngForOf"],[1,"dispute-item"],[1,"dispute-info"],[1,"status"],[1,"btn-resolve",3,"click"]],template:function(o,a){if(o&1&&(P(0,"app-navbar"),n(1,"div",3)(2,"div",4)(3,"h1"),i(4,"\u{1F39B}\uFE0F Admin Dashboard"),t(),n(5,"p"),i(6,"Manage your food delivery platform"),t()(),n(7,"div",5)(8,"a",6)(9,"span",7),i(10,"\u{1F465}"),t(),n(11,"span",8),i(12,"Manage Users"),t()(),n(13,"a",9)(14,"span",7),i(15,"\u{1F468}\u200D\u{1F373}"),t(),n(16,"span",8),i(17,"Manage Homemakers"),t()(),n(18,"a",10)(19,"span",7),i(20,"\u{1F697}"),t(),n(21,"span",8),i(22,"Manage Executives"),t()(),n(23,"a",11)(24,"span",7),i(25,"\u{1F4CA}"),t(),n(26,"span",8),i(27,"View Analytics"),t()(),n(28,"a",12)(29,"span",7),i(30,"\u{1F4CB}"),t(),n(31,"span",8),i(32,"Activity Logs"),t()()(),n(33,"div",13)(34,"div",14)(35,"div",15),i(36,"\u{1F465}"),t(),n(37,"div",16)(38,"h3"),i(39),t(),n(40,"p"),i(41,"Total Users"),t()()(),n(42,"div",17)(43,"div",15),i(44,"\u{1F468}\u200D\u{1F373}"),t(),n(45,"div",16)(46,"h3"),i(47),t(),n(48,"p"),i(49,"Homemakers"),t()()(),n(50,"div",18)(51,"div",15),i(52,"\u{1F6B4}"),t(),n(53,"div",16)(54,"h3"),i(55),t(),n(56,"p"),i(57,"Delivery Executives"),t()()(),n(58,"div",19)(59,"div",15),i(60,"\u{1F4E6}"),t(),n(61,"div",16)(62,"h3"),i(63),t(),n(64,"p"),i(65,"Total Orders"),t()()(),n(66,"div",20)(67,"div",15),i(68,"\u{1F4B0}"),t(),n(69,"div",16)(70,"h3"),i(71),t(),n(72,"p"),i(73,"Total Revenue"),t()()(),n(74,"div",21)(75,"div",15),i(76,"\u{1F680}"),t(),n(77,"div",16)(78,"h3"),i(79),t(),n(80,"p"),i(81,"Active Orders"),t()()()(),n(82,"div",22)(83,"div",23)(84,"div",24)(85,"h2"),i(86),t()(),g(87,F,2,1,"div",25)(88,T,2,0,"ng-template",null,0,b),t(),n(90,"div",23)(91,"div",24)(92,"h2"),i(93),t()(),g(94,R,2,1,"div",25)(95,q,2,0,"ng-template",null,1,b),t(),n(97,"div",23)(98,"div",24)(99,"h2"),i(100,"Recent Disputes"),t(),n(101,"a",26),i(102,"View All"),t()(),g(103,L,2,1,"div",27)(104,N,2,0,"ng-template",null,2,b),t()()()),o&2){let d=C(89),I=C(96),j=C(105);c(39),m(a.stats.totalUsers),c(8),m(a.stats.totalHomemakers),c(8),m(a.stats.totalExecutives),c(8),m(a.stats.totalOrders),c(8),l("\u20B9",a.stats.totalRevenue,""),c(8),m(a.stats.activeOrders),c(7),l("\u{1F373} Pending Home Chef Approvals (",a.pendingHomemakers.length,")"),c(),u("ngIf",a.pendingHomemakers.length>0)("ngIfElse",d),c(6),l("\u{1F6B4} Pending Delivery Partner Approvals (",a.pendingExecutives.length,")"),c(),u("ngIf",a.pendingExecutives.length>0)("ngIfElse",I),c(9),u("ngIf",a.recentDisputes.length>0)("ngIfElse",j)}},dependencies:[k,E,D,y,S,A],styles:[".admin-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:var(--secondary);margin-bottom:.5rem}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.quick-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:3rem}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;border-radius:12px;text-decoration:none;color:#fff;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #00000026}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:3rem}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0003}.quick-actions[_ngcontent-%COMP%]   .action-btn.users-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.quick-actions[_ngcontent-%COMP%]   .action-btn.homemakers-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#009624,#00c853)}.quick-actions[_ngcontent-%COMP%]   .action-btn.executives-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9)}.quick-actions[_ngcontent-%COMP%]   .action-btn.analytics-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f39c12,#e67e22)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:12px;display:flex;align-items:center;gap:1rem;color:#fff;box-shadow:0 4px 6px #0000001a}.stat-card.users[_ngcontent-%COMP%]{background:var(--primary-gradient)}.stat-card.homemakers[_ngcontent-%COMP%]{background:linear-gradient(135deg,#009624,#00c853)}.stat-card.executives[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1c3d5a,#071627)}.stat-card.orders[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.stat-card.revenue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.stat-card.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#30cfd0,#330867)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin:0}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:2rem}@media (max-width: 968px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--secondary);margin:0}.section-header[_ngcontent-%COMP%]   .view-all[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:500}.verification-list[_ngcontent-%COMP%], .dispute-list[_ngcontent-%COMP%]{display:grid;gap:1rem}.verification-item[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid #e5e7eb;border-radius:8px}.verification-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .verification-item[_ngcontent-%COMP%]   .dispute-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .dispute-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;color:#333}.verification-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .verification-item[_ngcontent-%COMP%]   .dispute-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .dispute-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}.verification-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%], .verification-item[_ngcontent-%COMP%]   .dispute-info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .dispute-info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:#fef3c7;color:#92400e;border-radius:20px;font-size:.75rem;margin-top:.5rem}.verification-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;cursor:pointer;font-weight:500;white-space:nowrap}.verification-item[_ngcontent-%COMP%]   .btn-verify[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .btn-verify[_ngcontent-%COMP%]{background:#10b981;color:#fff}.verification-item[_ngcontent-%COMP%]   .btn-verify[_ngcontent-%COMP%]:hover, .dispute-item[_ngcontent-%COMP%]   .btn-verify[_ngcontent-%COMP%]:hover{background:#059669}.verification-item[_ngcontent-%COMP%]   .btn-resolve[_ngcontent-%COMP%], .dispute-item[_ngcontent-%COMP%]   .btn-resolve[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.verification-item[_ngcontent-%COMP%]   .btn-resolve[_ngcontent-%COMP%]:hover, .dispute-item[_ngcontent-%COMP%]   .btn-resolve[_ngcontent-%COMP%]:hover{background:#2563eb}.quick-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;text-decoration:none;color:#333;transition:transform .3s}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem}.approval-list[_ngcontent-%COMP%]{display:grid;gap:1rem}.approval-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid #e5e7eb;border-radius:8px;background:#fafafa}.approval-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-size:1.1rem}.approval-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:#666;font-size:.875rem}.approval-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.btn-approve[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;cursor:pointer;font-weight:500;background:#10b981;color:#fff}.btn-approve[_ngcontent-%COMP%]:hover{background:#059669}.btn-reject[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;cursor:pointer;font-weight:500;background:#ef4444;color:#fff}.btn-reject[_ngcontent-%COMP%]:hover{background:#dc2626}.no-items[_ngcontent-%COMP%]{text-align:center;color:#666;padding:2rem;background:#f9fafb;border-radius:8px}"]})}}return r})();export{Q as AdminDashboardComponent};
