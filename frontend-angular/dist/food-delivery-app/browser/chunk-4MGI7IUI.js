import{a as y}from"./chunk-FQ3DSHQO.js";import{a as I}from"./chunk-OU4M4I6I.js";import{a as S}from"./chunk-VW6JM3DE.js";import"./chunk-CFT3KPZ3.js";import{Ba as b,Ca as O,Fa as h,J as r,K as p,R as m,T as s,Ua as C,V as v,X as o,Y as n,Z as g,ba as u,ca as _,fa as a,ha as l,pa as x,v as f}from"./chunk-DQHUU6N5.js";function M(e,c){if(e&1&&(o(0,"div",7)(1,"h3"),a(2),n(),o(3,"p"),a(4),n(),o(5,"p"),a(6),n()()),e&2){let t=c.$implicit;r(2),l("Order #",t.id,""),r(2),l("Status: ",t.orderStatus,""),r(2),l("Amount: \u20B9",t.amount,"")}}function E(e,c){e&1&&(o(0,"p"),a(1,"No orders found"),n())}function P(e,c){if(e&1&&(o(0,"div",5),m(1,M,7,3,"div",6)(2,E,2,0,"p",4),n()),e&2){let t=_();r(),s("ngForOf",t.orders),r(),s("ngIf",t.orders.length===0)}}function k(e,c){e&1&&(o(0,"div"),a(1,"Loading..."),n())}var L=(()=>{class e{constructor(t,d){this.deliveryService=t,this.authService=d,this.orders=[],this.loading=!1,this.activeTab="active",this.executiveId=0;let i=this.authService.currentUserValue;i&&(this.executiveId=i.id)}ngOnInit(){this.loadOrders()}loadOrders(){this.loading=!0,(this.activeTab==="active"?this.deliveryService.getActiveOrders(this.executiveId):this.deliveryService.getDeliveredOrders(this.executiveId)).subscribe({next:d=>{this.orders=d,this.loading=!1},error:()=>this.loading=!1})}static{this.\u0275fac=function(d){return new(d||e)(p(y),p(S))}}static{this.\u0275cmp=f({type:e,selectors:[["app-orders"]],standalone:!0,features:[x],decls:11,vars:6,consts:[[1,"orders-container"],[1,"tabs"],[3,"click"],["class","orders-list",4,"ngIf"],[4,"ngIf"],[1,"orders-list"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"]],template:function(d,i){d&1&&(g(0,"app-navbar"),o(1,"div",0)(2,"h2"),a(3,"My Orders"),n(),o(4,"div",1)(5,"button",2),u("click",function(){return i.activeTab="active",i.loadOrders()}),a(6," Active Orders "),n(),o(7,"button",2),u("click",function(){return i.activeTab="delivered",i.loadOrders()}),a(8," Delivered Orders "),n()(),m(9,P,3,2,"div",3)(10,k,2,0,"div",4),n()),d&2&&(r(5),v("active",i.activeTab==="active"),r(2),v("active",i.activeTab==="delivered"),r(2),s("ngIf",!i.loading),r(),s("ngIf",i.loading))},dependencies:[h,b,O,C,I],styles:[".orders-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.tabs[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;border:none;background:#f0f0f0;cursor:pointer;border-radius:8px}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#667eea;color:#fff}.order-item[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:16px;border-radius:8px;box-shadow:0 2px 8px #0000001a}"]})}}return e})();export{L as OrdersComponent};
