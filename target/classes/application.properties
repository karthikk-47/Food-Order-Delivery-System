# ===========================================
# HomeBites Food Delivery App - Application Properties
# ===========================================
# All sensitive values are loaded from environment variables
# Set them in .env file (copy from .env.example)

# Application
spring.application.name=deliveryexecutive
spring.threads.virtual.enabled=true

# ===========================================
# Server Configuration
# ===========================================
server.port=${SERVER_PORT:8082}
server.error.include-message=always
server.error.include-binding-errors=always

# ===========================================
# Database Configuration
# ===========================================
spring.datasource.url=jdbc:mysql://localhost:3306/food_app?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&autoReconnect=true
spring.datasource.username=root
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=5

# ===========================================
# JPA/Hibernate
# ===========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ===========================================
# Logging Configuration
# ===========================================
# Use logback-spring.xml for detailed configuration
logging.config=classpath:logback-spring.xml
logging.level.root=INFO
logging.level.com.foodapp.deliveryexecutive=DEBUG
logging.level.com.foodapp.deliveryexecutive.logging=DEBUG

# Reduce framework noise
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.apache=WARN

# ===========================================
# Async Logging Configuration
# ===========================================
logging.async.core-pool-size=2
logging.async.max-pool-size=10
logging.async.queue-capacity=5000
logging.async.thread-name-prefix=AsyncLog-

# ===========================================
# JWT Configuration
# ===========================================
jwt.secret=${JWT_SECRET:default-dev-secret-key-change-in-production-minimum-256-bits}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ===========================================
# Active Profile
# ===========================================
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ===========================================
# Razorpay Configuration
# ===========================================
razorpay.key=${RAZORPAY_KEY:}
razorpay.secret=${RAZORPAY_SECRET:}
razorpay.webhook.secret=${RAZORPAY_WEBHOOK_SECRET:}

# ===========================================
# OlaMaps Configuration
# ===========================================
olamap.api.key=${OLAMAP_API_KEY:SDefJtPtF5sOIUKYoHUUsJlmV1R67JFZq43BiRQf}

# ===========================================
# Firebase Configuration
# ===========================================
firebase.api.key=${FIREBASE_API_KEY:}
firebase.project.id=${FIREBASE_PROJECT_ID:}
firebase.private.key=${FIREBASE_PRIVATE_KEY:}
firebase.client.email=${FIREBASE_CLIENT_EMAIL:}
firebase.config.path=${FIREBASE_CONFIG_PATH:firebase-service-account.json}

# ===========================================
# FTP File Storage Configuration
# ===========================================
ftp.host=${FTP_HOST:localhost}
ftp.port=${FTP_PORT:21}
ftp.username=${FTP_USERNAME:}
ftp.password=${FTP_PASSWORD:}
ftp.baseDir=${FTP_BASE_DIR:/uploads}
ftp.baseUrl=${FTP_BASE_URL:http://localhost/uploads}
ftp.passiveMode=${FTP_PASSIVE_MODE:true}
ftp.bufferSize=1048576
ftp.connectTimeout=10000
ftp.dataTimeout=30000
ftp.maxTotalConnections=10

# ===========================================
# Test Credentials (Development Only)
# ===========================================
# User
test.user.mobile=7000000001
test.user.password=password123
test.user.email=user1@example.com

# Homemaker
test.homemaker.mobile=8000000001
test.homemaker.password=password123

# Delivery Executive
test.executive.mobile=9000000001
test.executive.password=password123

# Admin
test.admin.phone=9000000002
test.admin.password=admin123


# ===========================================
# External Restaurant API Configuration
# ===========================================
external.api.key=${EXTERNAL_API_KEY:}
external.api.base-url=https://developers.zomato.com/api/v2.1

# ===========================================
# SpringDoc OpenAPI / Swagger Configuration
# ===========================================
# Enable OpenAPI documentation
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs

# Enable Swagger UI
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.doc-expansion=none

# API Info
springdoc.info.title=HomeBites Food Delivery API
springdoc.info.description=API documentation for HomeBites food delivery application
springdoc.info.version=1.0.0

# Show actuator endpoints in Swagger
springdoc.show-actuator=false

# ===========================================
# Actuator Configuration (Admin Only)
# ===========================================
# Expose all actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics,loggers,env,mappings,beans,threaddump,heapdump,scheduledtasks,caches,conditions
management.endpoints.web.base-path=/actuator

# Health endpoint configuration
management.endpoint.health.show-details=when_authorized
management.endpoint.health.show-components=when_authorized
management.health.db.enabled=true
management.health.diskspace.enabled=true

# Info endpoint configuration
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true

# Metrics configuration
management.endpoint.metrics.enabled=true
management.metrics.export.simple.enabled=true

# Loggers endpoint - allows changing log levels at runtime
management.endpoint.loggers.enabled=true

# Application info for actuator
info.app.name=${spring.application.name}
info.app.description=HomeBites Food Delivery Application
info.app.version=1.0.0
info.app.java.version=${java.version}
